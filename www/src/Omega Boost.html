<html>
<link rel="stylesheet" type="text/css" href="/css/game.css">
<title>Omega Boost</title>
</html>
<body>
<div class="wrapper">
    <div class="box url">
        <a id="siteurl" href="/">redsys.pw</a>/<a id="path", href="Omega%20Boost.html">Omega Boost</a> <!-- PATH TO FILE, IF JS -->
    </div>
    <div class="box blank"></div>
    <div class="box title">
        <div class="left">Omega Boost</div></div>
    <div class="box image"><img src="https://gamefaqs.akamaized.net/box/8/6/6/5866_front.jpg"></div>
    <div class="box tags">
        <ul style="list-style-type: none;">
            
                <li ><a class="child_url" href="Omega%20Boost/post1.html">/post1</a></li>
            
        </ul>
    </div>
    <div class="box body">
        <p>Lorem ipsum dolor sit amet, magna iusto senserit vel in, ignota eirmod officiis cu quo, posidonium necessitatibus no eum. Cu mea diceret mediocrem dissentias, sed partem recusabo invenire ut. Ex adipisci tacimates pri. Vide nemore molestie ad quo. Mea quidam regione antiopam te. Eius iracundia eam ad, putent nominavi ex eos.</p>
<p>Lorem ipsum dolor sit amet, magna iusto senserit vel in, ignota eirmod officiis cu quo, posidonium necessitatibus no eum. Cu mea diceret mediocrem dissentias, sed partem recusabo invenire ut. Ex adipisci tacimates pri. Vide nemore molestie ad quo. Mea quidam regione antiopam te. Eius iracundia eam ad, putent nominavi ex eos.</p>
<p>Lorem ipsum dolor sit amet, magna iusto senserit vel in, ignota eirmod officiis cu quo, posidonium necessitatibus no eum. Cu mea diceret mediocrem dissentias, sed partem recusabo invenire ut. Ex adipisci tacimates pri. Vide nemore molestie ad quo. Mea quidam regione antiopam te. Eius iracundia eam ad, putent nominavi ex eos.</p>
<p>Lorem ipsum dolor sit amet, magna iusto senserit vel in, ignota eirmod officiis cu quo, posidonium necessitatibus no eum. Cu mea diceret mediocrem dissentias, sed partem recusabo invenire ut. Ex adipisci tacimates pri. Vide nemore molestie ad quo. Mea quidam regione antiopam te. Eius iracundia eam ad, putent nominavi ex eos.</p>

    </div>
    <div class="box link">
        <div class="link url">
            <a href=url.org/#64zx79sYfq2TD82vTexI19DKua4Ns8YXMHBYWkrsCMpUZRaj1QLAUjKxIApEE1cQGt8wviSh8pH58N623HviJiFq7T4oFlOZCMov>url.org/#64zx79sYfq2TD82vTexI19DKua4Ns8YXMHBYWkrsCMpUZRaj1QLAUjKxIApEE1cQGt8wviSh8pH58N623HviJiFq7T4oFlOZCMov</a>
        </div>
        <div class="link blank"></div>
    </div>
</div>
</body>
<script type="text/javascript">
// if we're in a cycle, we'd have to generate an infinite number of symlinks in the current system
// so instead, if we encounter a node we've already seen, we retreat back up the path to the previous
// occurrence.
function update_cyclical_children(){
let parents = window.location.pathname.split('/').slice(1, -1);
let children = document.getElementsByClassName("child_url");
Array.from(children).forEach(
	function(child, index) { 
		let nextPost = child.getAttribute("href").split('/').slice(-1)[0].slice(0,-5);
		for (var i in parents) {
			if (parents[i] === nextPost) {
				console.log(i);
				let newurl = parents.slice(0, i).join('/') + "/" + nextPost + ".html";
				children.item(index).href = newurl
				console.log(newurl);
				return
         	}
        }
	}) 
}
function update_path(){
    let path = window.location.pathname.split('/').slice(1, -1);
    var sitenode = document.getElementById('siteurl');
    for (var i = path.length; i > 0; i--){
        let a = document.createElement('a');
        a.href = '/' + path.slice(0, i).join('/') + '.html';
		console.log(i, path.slice(0,i));
        a.text = decodeURI('/' + path[i-1]);
        sitenode.parentNode.insertBefore(a, sitenode.nextSibling);
    }
}
// TODO: each component of the box url should be a link to that page
// has to be done dynamically, based on the document url. (otherwise we'd need unique pages instead of symlinks)
update_cyclical_children();
update_path();
</script>
</html>